---
// src/components/ui/FormTextarea.astro
export interface Props {
  name: string;
  id: string;
  label: string;
  rows?: number;
  required?: boolean;
  error?: string;
}

const { name, id, label, rows = 5, required = false, error } = Astro.props;
---

<div class="space-y-2">
  <label for={id} class="text-md block font-medium text-secondary">
    {label}
    {required && <span class="ml-1 text-red-500">*</span>}
  </label>

  <div class="textarea-wrapper relative block">
    <textarea
      id={id}
      name={name}
      rows={rows}
      required={required}
      class={`relative z-[2] bg-transparent border rounded-lg duration-300 block box-border
        text-secondary w-full px-4 py-2 focus:border-transparent focus:ring-2 resize-none ${
          error ? 'border-red-500 focus:ring-red-500' : 'border-primary focus:ring-primary'
        }`}></textarea>
  </div>

  {
    error && (
      <p class="mt-1 flex items-center text-sm text-red-600">
        <svg class="mr-1 h-4 w-4 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
            clip-rule="evenodd"
          />
        </svg>
        {error}
      </p>
    )
  }
</div>

<style>
  .textarea-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.1); /* Tu color transparente */
    backdrop-filter: blur(10px); /* Efecto glassmorphism */
    border-radius: 0.5rem;
    pointer-events: none;
    z-index: 1;
  }
</style>

<!--   class={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none ${ -->
<!--     error ? 'border-red-500 bg-red-50' : 'border-gray-300' -->
<!--   }`}></textarea> -->
<!-- {error && <p class="mt-1 text-sm text-red-600">{error}</p>} -->
